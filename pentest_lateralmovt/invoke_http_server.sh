# !/bin/bash
# 
# Script launches a HTTP server to serve files
# 
# Taken from: 
# 
# Args:
#     port: Port to serve the HTTP Service. Default, 8001.
#     folder: Folder to serve the files from. Default, '.' aka current folder
# 
# Examples:
#     To launch HTTP service on port 1433 in the folder /tmp:
#         ./invoke_http_server.sh 1433 /tmp
port=${1:-"8001"}
service_folder=${2:-"."}

echo "[*] Killing HTTP server for port: $port"
pkill -f ".*(http\.server|SimpleHTTPServer).*$port.*"

echo "[*] Launching the HTTP server on port: $port, service \
folder: $service_folder"
cd "$service_folder"
python3 -m http.server "$port" &