#!/bin/bash
# 
# Script to get the list of all targets|ports|proto that are running Oracle T3 
# Protocol
# 

if [ $# -lt 1 ]; then
    echo "[-] cat ...<target|port|proto>... | $0 run"
    exit 1
fi

combos=$(cat -)

# Regex to identify HTTP Oracle T3 Protocol via port 7001-7010
regex="700[0-9]|7010"

# Loop through each combination and identify all Oracle T3 protocol host
IFS=$'\n'
for combo in $combos; do
    if [ ! -z "$combo" ]; then
        echo "$combo" | grep -iE "$regex" 
    fi
done