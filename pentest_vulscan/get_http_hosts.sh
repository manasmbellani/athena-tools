#!/bin/bash
# 
# Script to get the list of all targets|ports|proto that are running HTTP (not 
# HTTPS)
# 

if [ $# -lt 1 ]; then
    echo "[-] cat ...<target|port|proto>... | $0 run"
    exit 1
fi

combos=$(cat -)

# Regex to identify HTTP
regex="http[^s]"

# Loop through each combination and identify all http hosts
IFS=$'\n'
for combo in $combos; do
    if [ ! -z "$combo" ]; then
        echo "$combo" | grep -iE "$regex" 
    fi
done