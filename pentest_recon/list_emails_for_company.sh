#!/bin/bash
#
# Script to get a list of ALL email addresses
# 
if [ $# -lt 1 ]; then
    echo "[-] ...<domains>... | $0 run [method=hunter.io/hunter]"
    exit 1
fi
method=${2:-"hunter.io"}

# To get the list of domains for which to get the email addresses
domains=$(cat -)


IFS=$'\n'
for domain in $domains; do
    if [ "$method" == "hunter.io"] || [ "$method" == "hunter"] \
      || [ "$method" == "all" ]; then
        echo "[*] Opening hunter.io to get emails for hunter.io for domain: $domain"
        url="https://hunter.io/search/$domain"
        echo "$url" | $script_dir/../mydevice/invoke_url_in_browser.sh run
        echo "[!] Manually extract emails for domain: $domain and load to \
outfile: $outfile"
    fi
done